<!DOCTYPE html>
<!--
Corvo-Coder Website
Copyright (c) 2025 Austin (GitHub: TotoroEmotoro)
Licensed under the Corvo-Coder Website License, Version 1.0.
See the LICENSE file for full terms.
-->

<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Corvo Playground</title>
  <meta name="color-scheme" content="dark light">
  <style>
    :root{
      color-scheme: dark;
      --bg:#0b0b0e; --panel:#16161c; --panel2:#1c1c24;
      --border:#2b2e39; --text:#ececf3; --muted:#a6a8b6;
      --accent:#7c9cf3; --accent-2:#59d0a0; --radius:16px;
      --shadow:0 20px 50px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0;background:var(--bg);color:var(--text);
      font-family:ui-sans-serif,system-ui,-apple-system,"Inter",Segoe UI,Roboto,Helvetica,Arial;
      min-height:100vh;display:grid;grid-template-rows:auto 1fr;
    }
    /* Header */
    header.appbar{
      display:flex;align-items:center;gap:14px;padding:14px 18px;
      border-bottom:1px solid var(--border);
      background:linear-gradient(180deg,#121218,rgba(18,18,24,0.7));
    }
    .logo-wrap{
      width:40px;height:40px;border-radius:10px;overflow:hidden;
      background:#111;display:flex;align-items:center;justify-content:center;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
    }
    .logo-wrap img{display:block;width:100%;height:100%;object-fit:cover}
    .brand h1{margin:0;font-size:18px;font-weight:750;letter-spacing:.2px}
    .brand p{margin:0;font-size:12px;color:var(--muted)}
    .spacer{flex:1}
    .small-btn{
      appearance:none;border:1px solid var(--border);background:var(--panel2);
      color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer;font-size:12px;
    }
    .small-btn:hover{border-color:var(--accent);color:var(--accent)}

    /* Layout */
    .layout{
      display:grid;grid-template-columns:280px 1fr;gap:16px;
      padding:16px;max-width:1400px;width:100%;margin:0 auto;
    }
    aside.sidebar{
      background:var(--panel);border:1px solid var(--border);
      border-radius:var(--radius);box-shadow:var(--shadow);padding:12px;
      overflow:auto;max-height:calc(100vh - 110px);
    }
    .panel{
      background:var(--panel);border:1px solid var(--border);
      border-radius:var(--radius);box-shadow:var(--shadow);
      overflow:hidden;display:flex;flex-direction:column;min-height:0;
    }
    .panel-header{
      display:flex;align-items:center;justify-content:space-between;
      padding:10px 12px;border-bottom:1px solid var(--border);
    }
    .panel-header h2{margin:0;font-size:14px;font-weight:650;letter-spacing:.2px}
    .panel-body{padding:0;display:flex;flex-direction:column;min-height:0}

    textarea.editor{
      width:100%;flex:1;min-height:260px;resize:none;border:0;outline:0;padding:14px;
      background:transparent;color:var(--text);
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
      font-size:13px;line-height:1.45;tab-size:2;white-space:pre;
    }
    pre.output,pre.debug{
      margin:0;padding:14px;border:0;background:transparent;color:var(--text);
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
      font-size:12px;line-height:1.4;white-space:pre-wrap;word-break:break-word;overflow:auto;
      min-height:140px;
    }
    .actions{
      display:flex;gap:8px;padding:10px;border-top:1px solid var(--border);background:var(--panel2);
    }
    .btn{
      appearance:none;border:1px solid var(--border);background:#10121a;color:var(--text);
      padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:650;font-size:13px;
    }
    .btn:hover{border-color:var(--accent);color:var(--accent)}
    .btn:disabled{opacity:.45;cursor:not-allowed}
    .ghost{background:var(--panel2);font-weight:550}
    .accent{background:linear-gradient(180deg,#1c2140,#121630);border-color:#343a60}

    details{border:1px solid var(--border);border-radius:12px;padding:8px 10px;margin:8px 0;background:var(--panel2)}
    details summary{list-style:none;cursor:pointer;user-select:none;font-weight:650;font-size:13px}
    details[open]{border-color:#3a3f6d}
    details p,details pre,details ul,details code{color:var(--muted);font-size:12px}
    details code{background:#0f1020;padding:2px 5px;border-radius:6px;border:1px solid #272a45}

    .hidden{display:none}

    @media (max-width:980px){
      .layout{grid-template-columns:1fr}
      aside.sidebar{max-height:none}
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="appbar">
    <div class="logo-wrap" aria-hidden="true">
      <!-- Put your logo image in the repo root as corvo-logo.png (or change the src) -->
      <img src="corvo-logo.png" alt="Corvo logo">
    </div>
    <div class="brand">
      <h1>Corvo Playground</h1>
      <p>Learn and run Corvo in your browser</p>
    </div>
    <div class="spacer"></div>
    <button id="toggleDebug" class="small-btn" title="Show internal logs">Show debug</button>
  </header>

  <!-- Main layout -->
  <div class="layout">

    <!-- Sidebar: quick reference -->
    <aside class="sidebar">
      <details open>
        <summary>Getting started</summary>
        <p>Variables use <code>the &lt;name&gt; is &lt;expr&gt;</code>. Try:</p>
        <pre>the x is 3
the y is 4
the z is x plus y
display z  # → 7</pre>
      </details>

      <details>
        <summary>Variables and display</summary>
        <pre>the name is "Ada"
display name</pre>
      </details>

      <details>
        <summary>Arithmetic</summary>
        <pre>the a is 12
the b is 3
display a plus b       # 15
display a minus b      # 9
display a times b      # 36
display a divided by b # 4</pre>
      </details>

      <details>
        <summary>Conditions</summary>
        <pre>if a is greater than b then display a
if a is equal to b then: [
  display "equal"
] otherwise: [
  display "not equal"
]</pre>
      </details>

      <details>
        <summary>Loops</summary>
        <pre>repeat 3 loops display "hello"

the x is 5
while x is greater than 0 do: [
  display x
  the x is x minus 1
]</pre>
      </details>

      <details>
        <summary>Lists</summary>
        <pre>the numbers is [1, 2, 3]
append 4 to numbers
display numbers at 2     # → 2
display count of numbers</pre>
      </details>

      <details>
        <summary>Input</summary>
        <p>In the browser build, <code>ask ... remember as ...</code> stores an empty string (no blocking prompt).</p>
        <pre>ask "Enter name:" remember as name
display name</pre>
      </details>

      <details>
        <summary>Comments</summary>
        <pre># full-line comment
the x is 1</pre>
      </details>
    </aside>

    <!-- Editor + Output -->
    <main style="display:grid;gap:16px;grid-template-rows:auto 1fr auto;">

      <section class="panel">
        <div class="panel-header">
          <h2>Editor</h2>
          <div style="display:flex;gap:8px">
            <button id="loadExample" class="small-btn">Load example</button>
          </div>
        </div>
        <div class="panel-body">
          <textarea class="editor" id="corvoInput">the x is 3
the y is 4
the z is x plus y
display z</textarea>
        </div>
        <div class="actions">
          <button id="runBtn" class="btn accent">Run ▶</button>
          <button id="clearBtn" class="btn ghost">Clear output</button>
          <button id="shareBtn" class="btn ghost">Share link</button>
          <span id="status" style="margin-left:auto;color:var(--muted);font-size:12px;">Initialising…</span>
        </div>
      </section>

      <section class="panel">
        <div class="panel-header">
          <h2>Programme Output <span style="color:var(--muted);font-weight:500;">(stdout)</span></h2>
        </div>
        <div class="panel-body">
          <pre id="outputArea" class="output">⟵ click Run</pre>
        </div>
      </section>

      <!-- Debug (hidden by default) -->
      <section class="panel hidden" id="debugPanel">
        <div class="panel-header">
          <h2>Debug <span style="color:var(--muted);font-weight:500;">(internal)</span></h2>
        </div>
        <div class="panel-body">
          <pre id="debugArea" class="debug"></pre>
        </div>
      </section>

    </main>
  </div>

  <!-- Pyodide then our app logic -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.26.4/full/pyodide.js"></script>
  <script src="playground.js"></script>

 <footer style="
    text-align:center;
    padding:16px;
    font-size:12px;
    color:var(--muted);
    border-top:1px solid var(--border);
    background:var(--panel2);
  ">
    © 2025 Austin (GitHub: <a href="https://github.com/TotoroEmotoro" target="_blank" style="color:var(--accent)">TotoroEmotoro</a>).
    All rights reserved. Licensed under the
    <a href="LICENSE" target="_blank" style="color:var(--accent)">Corvo-Coder Website License, Version 1.0</a>.
  </footer>

  
</body>
</html>
